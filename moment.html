<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>タイトルが入ります</title>
<link rel="stylesheet" href="css/style.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.2/moment.min.js"></script>
</head>
<script>
/*
// momentオブジェクトをセット
    var m = moment(); //現在の時刻が入る
    var output = m.format('YYYY年MM月DD日 HH:mm:ss dddd');
    console.log(output); // => 2014年10月24日 11:44:00 Friday

//各単位出力
    var m = moment();
    // 各単位のメソッド

    m.year();    // 年
    m.month();   // 月 ※ 0〜11の値（始まりが0なので-1で計算）
    m.date();   // 日
    m.day();    // 曜日
    m.hours();    // 時
    m.minutes();  // 分
    m.seconds();  // 秒
    m.milliseconds();  // ミリ秒

    console.log(m.year()); // => 2014

// momentオブジェクトをセット、現在時刻でなく指定した日付の場合
    var m = moment("20150101", "YYYYMMDD"); // 第一引数：指定日時、第二引数：フォーマット
    var output = m.format('YYYY年MM月DD日 HH:mm:ss dddd');

    console.log(output); // => 2015年01月01日 00:00:00 Thursday

//今日から指定日まで何日か？加算の場合はadd()、減算の場合はsubtract()を使う
    var output = moment().add(30, 'days').format('YYYY年MM月DD日'); // add第一引数：日数、第二引数：単位

    console.log(output);  // => 2014年11月23日

//指定日から何日経過したか
var output = moment().diff(moment([2014, 4, 1]), "days");

console.log(output);  // => 176
*/
//==============endDateから7日前(startDate)を計算=======
var startDate="20150813"
var m = moment(startDate, "YYYYMMDD"); // 第一引数：指定日時、第二引数：フォーマット
var output = m.format('YYYY年MM月DD日');
var year=m.year();
var month=m.month()+1;
var day=m.date()-7;
var year2=String(year);
var month2=String(month);
var day2=String(day);

if(month2.length==1){
  var month3="0"+month2;
}
if(day2.length==1){
  var day3="0"+day2;
}
var endDate=year2+month3+day3;
//document.write(month3);
document.write(endDate);

//===============本日の日付===========================
/*var m=moment();
var year=m.year();
var month=m.month()+1;
var day=m.date();
document.write("<h1>"+"本日は、"+year+"年"+month+"月"+day+"日"+"</h1>");*/

//========最終月経日の入力から、本日は何週目の何日か計算==================
/*var output=moment().diff(moment([2016, 4, 1]), "days");//最後の月経日
var wee=output/7;
var week=Math.round(wee);
//document.write(week);
var day=output%7;*/

//========本日からから各year,month,dayを\抽出==========
/*var dt = new Date();
var year=dt.getFullYear();
var month=dt.getMonth()+1;
var date=dt.getDate();
dateT = ["Sun.","Mon.","Tue.","Wen.","Thurs.","Fri.","Sat."];
var day=dateT[dt.getDay()];*/
//document.write(year);
//document.write(month);
//document.write(date);
//document.write(day);


/*
var today=Date();


var diff = dst.getTime() - src.getTime();
//秒
var second = diff/1000;

//分
var minute = diff/1000*60;

//時
var hour = diff/1000*60*60;

//日
var day = diff/1000*60*60*24;

//年
var day = diff/1000*60*60*24*365;
//
//var cle_month=last_moon.setMonth(last_moon.getMonth() + 10);
//var cle_day=last_moon.setDate(last_moon.getDate() + 10);
//document.write("出産予定日は"+cle_month+"月"+cle_day+"日です");
//
var dt=new Date();
//年
var year=dt.getFullYear();

//月
//1月が0、12月が11。そのため+1をする。
var month=dt.getMonth()+1;

//日
var date=dt.getDate();

//曜日
//日曜が0、土曜日が6。配列を使い曜日に変換する。
dateT = ["Sun.","Mon.","Tue.","Wen.","Thurs.","Fri.","Sat."];
var day=dateT[dt.getDay()];

//時
var hours=dt.getHours();

//分
var minutes=dt.getMinutes();

//秒
var seconds=dt.getSeconds();
*/
</script>
</html>
